{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\uppal\\\\OneDrive\\\\Desktop\\\\financial assistant\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { PieChart, Pie, Cell, LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } from \"recharts\";\nimport API_BASE_URL from \"../config\";\nimport Sidebar from \"../components/Sidebar\";\nimport \"../styles/Dashboard.css\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#8884d8\", \"#82ca9d\"];\nconst Dashboard = () => {\n  _s();\n  // State declarations\n  const navigate = useNavigate();\n  const [expenses, setExpenses] = useState([]);\n  const [income, setIncome] = useState([]);\n  const [totalExpenses, setTotalExpenses] = useState(0);\n  const [totalIncome, setTotalIncome] = useState(0);\n  const [balance, setBalance] = useState(0);\n  const [categoryTotals, setCategoryTotals] = useState([]);\n  const [monthlyExpenses, setMonthlyExpenses] = useState([]);\n  const [dailyExpenses, setDailyExpenses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [chatOpen, setChatOpen] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [aiLoading, setAiLoading] = useState(false);\n  const userName = localStorage.getItem(\"userName\") || \"User\";\n\n  // Format currency\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  // Fetch expenses data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const [expensesRes, incomeRes] = await Promise.all([axios.get(\"http://localhost:5000/api/expenses\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }), axios.get(\"http://localhost:5000/api/income\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        })]);\n        const expensesData = expensesRes.data;\n        const incomeData = incomeRes.data;\n        setExpenses(expensesData);\n        setIncome(incomeData);\n        const totalExp = expensesData.reduce((sum, exp) => sum + exp.amount, 0);\n        const totalInc = incomeData.reduce((sum, inc) => sum + inc.amount, 0);\n        const bal = totalInc - totalExp;\n        setTotalExpenses(totalExp);\n        setTotalIncome(totalInc);\n        setBalance(bal);\n        const categoryData = expensesData.reduce((acc, expense) => {\n          acc[expense.category] = (acc[expense.category] || 0) + expense.amount;\n          return acc;\n        }, {});\n        setCategoryTotals(Object.entries(categoryData).map(([name, value]) => ({\n          name,\n          value\n        })));\n        const monthlyData = expensesData.reduce((acc, expense) => {\n          const month = new Date(expense.date).toLocaleString(\"default\", {\n            month: \"short\"\n          });\n          acc[month] = (acc[month] || 0) + expense.amount;\n          return acc;\n        }, {});\n        setMonthlyExpenses(Object.entries(monthlyData).map(([month, amount]) => ({\n          month,\n          amount\n        })));\n        const last7Days = [...Array(7)].map((_, i) => {\n          const d = new Date();\n          d.setDate(d.getDate() - i);\n          return d.toLocaleDateString(\"en-US\", {\n            weekday: 'short'\n          });\n        }).reverse();\n        const dailyData = last7Days.map(day => {\n          const dayExpenses = expensesData.filter(exp => new Date(exp.date).toLocaleDateString(\"en-US\", {\n            weekday: 'short'\n          }) === day);\n          const total = dayExpenses.reduce((sum, exp) => sum + exp.amount, 0);\n          return {\n            day,\n            amount: total\n          };\n        });\n        setDailyExpenses(dailyData);\n        setLoading(false);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Error fetching data\");\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Chat functions\n  const toggleChat = () => {\n    setChatOpen(!chatOpen);\n    setTimeout(() => {\n      const chatBody = document.querySelector('.chat-body');\n      if (chatBody) chatBody.scrollTop = chatBody.scrollHeight;\n    }, 100);\n  };\n  const handleMessageSend = async () => {\n    if (!newMessage.trim()) return;\n    const userMsg = {\n      sender: 'user',\n      text: newMessage\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setNewMessage('');\n    setAiLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        throw new Error(\"You need to be logged in to use the chat\");\n      }\n\n      // Prepare expenses data\n      const expensesData = categoryTotals.length > 0 ? categoryTotals.map(c => `${c.name}: ${formatCurrency(c.value)}`).join(', ') : 'No expenses data available';\n      const response = await axios.post(`${API_BASE_URL}/ai/chat`, {\n        message: newMessage,\n        expenses: expensesData\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.data.message) {\n        throw new Error(\"No response from AI\");\n      }\n      setMessages(prev => [...prev, {\n        sender: 'ai',\n        text: response.data.message\n      }]);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data, _error$response3, _error$response3$data, _error$response4, _error$response4$data;\n      console.error(\"AI error:\", error);\n      console.error(\"Error response:\", (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      let errorMessage = \"Sorry, I can't respond right now.\";\n      let errorDetails = \"\";\n      if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.message) {\n        errorMessage = error.response.data.message;\n      } else if ((_error$response3 = error.response) !== null && _error$response3 !== void 0 && (_error$response3$data = _error$response3.data) !== null && _error$response3$data !== void 0 && _error$response3$data.error) {\n        errorMessage = error.response.data.error;\n      } else if (error.message) {\n        errorMessage = error.message;\n      }\n      if ((_error$response4 = error.response) !== null && _error$response4 !== void 0 && (_error$response4$data = _error$response4.data) !== null && _error$response4$data !== void 0 && _error$response4$data.details) {\n        errorDetails = error.response.data.details;\n      }\n      setMessages(prev => [...prev, {\n        sender: 'ai',\n        text: errorMessage + (errorDetails ? `\\n\\nDetails: ${errorDetails}` : ''),\n        isError: true\n      }]);\n    } finally {\n      setAiLoading(false);\n      setTimeout(() => {\n        const chatBody = document.querySelector('.chat-body');\n        if (chatBody) chatBody.scrollTop = chatBody.scrollHeight;\n      }, 100);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\") {\n      handleMessageSend();\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-loading\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading your financial data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-error\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          children: \"Refresh Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome back, \", userName, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"greeting\",\n          children: \"Here's your financial overview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-actions\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/add-income\",\n            className: \"add-income-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), \"Add Income\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/add-expense\",\n            className: \"add-expense-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), \"Add Expense\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card income\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCB0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Income\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: formatCurrency(totalIncome)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card expenses\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCB8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Expenses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: formatCurrency(totalExpenses)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card balance\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u2696\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Balance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: balance >= 0 ? \"positive\" : \"negative\",\n              children: formatCurrency(balance)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recent-transactions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recent Transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"transactions-list\",\n          children: [...expenses, ...income].sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5).map(transaction => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `transaction-item ${transaction.amount > 0 ? \"income\" : \"expense\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"transaction-icon\",\n              children: transaction.amount > 0 ? \"üí∞\" : \"üí∏\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"transaction-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: transaction.amount > 0 ? transaction.source : transaction.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: new Date(transaction.date).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"transaction-amount\",\n              children: formatCurrency(transaction.amount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this)]\n          }, transaction._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-icon ${chatOpen ? 'active' : ''}`,\n      onClick: toggleChat,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-bubble\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), messages.length > 0 && !chatOpen && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"notification-badge\",\n          children: messages.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), chatOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Finance Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: toggleChat,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-body\",\n        children: messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Hello \", userName, \"! How can I help with your finances today?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quick-questions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setNewMessage(\"What's my spending trend?\"),\n              children: \"What's my spending trend?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setNewMessage(\"How can I save more?\"),\n              children: \"How can I save more?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 15\n        }, this) : messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-message ${message.sender} ${message.isError ? 'error' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [message.text, message.sender === 'ai' && index === messages.length - 1 && aiLoading && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"typing-indicator\",\n              children: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 19\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Ask about your finances...\",\n          value: newMessage,\n          onChange: e => setNewMessage(e.target.value),\n          onKeyDown: handleKeyDown,\n          disabled: aiLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send-btn\",\n          onClick: handleMessageSend,\n          disabled: !newMessage.trim() || aiLoading,\n          children: aiLoading ? 'Sending...' : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"gKTTxCHhNdBOj4CwtXgNnuHGqTg=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","PieChart","Pie","Cell","LineChart","Line","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","AreaChart","Area","API_BASE_URL","Sidebar","Link","jsxDEV","_jsxDEV","COLORS","Dashboard","_s","navigate","expenses","setExpenses","income","setIncome","totalExpenses","setTotalExpenses","totalIncome","setTotalIncome","balance","setBalance","categoryTotals","setCategoryTotals","monthlyExpenses","setMonthlyExpenses","dailyExpenses","setDailyExpenses","loading","setLoading","error","setError","chatOpen","setChatOpen","messages","setMessages","newMessage","setNewMessage","aiLoading","setAiLoading","userName","localStorage","getItem","formatCurrency","amount","Intl","NumberFormat","style","currency","maximumFractionDigits","format","fetchData","token","expensesRes","incomeRes","Promise","all","get","headers","Authorization","expensesData","data","incomeData","totalExp","reduce","sum","exp","totalInc","inc","bal","categoryData","acc","expense","category","Object","entries","map","name","value","monthlyData","month","Date","date","toLocaleString","last7Days","Array","_","i","d","setDate","getDate","toLocaleDateString","weekday","reverse","dailyData","day","dayExpenses","filter","total","err","_err$response","_err$response$data","response","message","toggleChat","setTimeout","chatBody","document","querySelector","scrollTop","scrollHeight","handleMessageSend","trim","userMsg","sender","text","prev","Error","length","c","join","post","_error$response","_error$response2","_error$response2$data","_error$response3","_error$response3$data","_error$response4","_error$response4$data","console","errorMessage","errorDetails","details","isError","handleKeyDown","e","key","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","reload","to","sort","a","b","slice","transaction","source","_id","index","type","placeholder","onChange","target","onKeyDown","disabled","_c","$RefreshReg$"],"sources":["C:/Users/uppal/OneDrive/Desktop/financial assistant/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {\n  PieChart, Pie, Cell, LineChart, Line, BarChart, Bar,\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n  AreaChart, Area\n} from \"recharts\";\nimport API_BASE_URL from \"../config\";\nimport Sidebar from \"../components/Sidebar\";\nimport \"../styles/Dashboard.css\";\nimport { Link } from \"react-router-dom\";\n\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#8884d8\", \"#82ca9d\"];\n\nconst Dashboard = () => {\n  // State declarations\n  const navigate = useNavigate();\n  const [expenses, setExpenses] = useState([]);\n  const [income, setIncome] = useState([]);\n  const [totalExpenses, setTotalExpenses] = useState(0);\n  const [totalIncome, setTotalIncome] = useState(0);\n  const [balance, setBalance] = useState(0);\n  const [categoryTotals, setCategoryTotals] = useState([]);\n  const [monthlyExpenses, setMonthlyExpenses] = useState([]);\n  const [dailyExpenses, setDailyExpenses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [chatOpen, setChatOpen] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [aiLoading, setAiLoading] = useState(false);\n\n  const userName = localStorage.getItem(\"userName\") || \"User\";\n\n  // Format currency\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat(\"en-IN\", {\n      style: \"currency\",\n      currency: \"INR\",\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  // Fetch expenses data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const [expensesRes, incomeRes] = await Promise.all([\n          axios.get(\"http://localhost:5000/api/expenses\", {\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n          axios.get(\"http://localhost:5000/api/income\", {\n            headers: { Authorization: `Bearer ${token}` },\n          }),\n        ]);\n\n        const expensesData = expensesRes.data;\n        const incomeData = incomeRes.data;\n\n        setExpenses(expensesData);\n        setIncome(incomeData);\n\n        const totalExp = expensesData.reduce((sum, exp) => sum + exp.amount, 0);\n        const totalInc = incomeData.reduce((sum, inc) => sum + inc.amount, 0);\n        const bal = totalInc - totalExp;\n\n        setTotalExpenses(totalExp);\n        setTotalIncome(totalInc);\n        setBalance(bal);\n\n        const categoryData = expensesData.reduce((acc, expense) => {\n          acc[expense.category] = (acc[expense.category] || 0) + expense.amount;\n          return acc;\n        }, {});\n        setCategoryTotals(Object.entries(categoryData).map(([name, value]) => ({ name, value })));\n\n        const monthlyData = expensesData.reduce((acc, expense) => {\n          const month = new Date(expense.date).toLocaleString(\"default\", { month: \"short\" });\n          acc[month] = (acc[month] || 0) + expense.amount;\n          return acc;\n        }, {});\n        setMonthlyExpenses(Object.entries(monthlyData).map(([month, amount]) => ({ month, amount })));\n\n        const last7Days = [...Array(7)].map((_, i) => {\n          const d = new Date();\n          d.setDate(d.getDate() - i);\n          return d.toLocaleDateString(\"en-US\", { weekday: 'short' });\n        }).reverse();\n\n        const dailyData = last7Days.map(day => {\n          const dayExpenses = expensesData.filter(exp => \n            new Date(exp.date).toLocaleDateString(\"en-US\", { weekday: 'short' }) === day\n          );\n          const total = dayExpenses.reduce((sum, exp) => sum + exp.amount, 0);\n          return { day, amount: total };\n        });\n        setDailyExpenses(dailyData);\n\n        setLoading(false);\n      } catch (err) {\n        setError(err.response?.data?.message || \"Error fetching data\");\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  // Chat functions\n  const toggleChat = () => {\n    setChatOpen(!chatOpen);\n    setTimeout(() => {\n      const chatBody = document.querySelector('.chat-body');\n      if (chatBody) chatBody.scrollTop = chatBody.scrollHeight;\n    }, 100);\n  };\n\n  const handleMessageSend = async () => {\n    if (!newMessage.trim()) return;\n\n    const userMsg = { sender: 'user', text: newMessage };\n    setMessages(prev => [...prev, userMsg]);\n    setNewMessage('');\n    setAiLoading(true);\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        throw new Error(\"You need to be logged in to use the chat\");\n      }\n\n      // Prepare expenses data\n      const expensesData = categoryTotals.length > 0\n        ? categoryTotals.map(c => `${c.name}: ${formatCurrency(c.value)}`).join(', ')\n        : 'No expenses data available';\n      \n      const response = await axios.post(\n        `${API_BASE_URL}/ai/chat`,\n        {\n          message: newMessage,\n          expenses: expensesData\n        },\n        {\n          headers: { \n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      if (!response.data.message) {\n        throw new Error(\"No response from AI\");\n      }\n\n      setMessages(prev => [...prev, { sender: 'ai', text: response.data.message }]);\n    } catch (error) {\n      console.error(\"AI error:\", error);\n      console.error(\"Error response:\", error.response?.data);\n      \n      let errorMessage = \"Sorry, I can't respond right now.\";\n      let errorDetails = \"\";\n      \n      if (error.response?.data?.message) {\n        errorMessage = error.response.data.message;\n      } else if (error.response?.data?.error) {\n        errorMessage = error.response.data.error;\n      } else if (error.message) {\n        errorMessage = error.message;\n      }\n\n      if (error.response?.data?.details) {\n        errorDetails = error.response.data.details;\n      }\n      \n      setMessages(prev => [...prev, { \n        sender: 'ai', \n        text: errorMessage + (errorDetails ? `\\n\\nDetails: ${errorDetails}` : ''),\n        isError: true \n      }]);\n    } finally {\n      setAiLoading(false);\n      setTimeout(() => {\n        const chatBody = document.querySelector('.chat-body');\n        if (chatBody) chatBody.scrollTop = chatBody.scrollHeight;\n      }, 100);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      handleMessageSend();\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"dashboard-loading\">\n        <Sidebar />\n        <div className=\"loading-content\">\n          <div className=\"spinner\"></div>\n          <p>Loading your financial data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"dashboard-error\">\n        <Sidebar />\n        <div className=\"error-content\">\n          <h2>Error</h2>\n          <p>{error}</p>\n          <button onClick={() => window.location.reload()}>Refresh Page</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dashboard-container\">\n      <Sidebar />\n      <div className=\"dashboard-content\">\n        <div className=\"dashboard-header\">\n          <h2>Welcome back, {userName}!</h2>\n          <p className=\"greeting\">Here's your financial overview</p>\n          <div className=\"dashboard-actions\">\n            <Link to=\"/add-income\" className=\"add-income-btn\">\n              <i className=\"fas fa-plus\"></i>\n              Add Income\n            </Link>\n            <Link to=\"/add-expense\" className=\"add-expense-btn\">\n              <i className=\"fas fa-plus\"></i>\n              Add Expense\n            </Link>\n          </div>\n        </div>\n\n        <div className=\"dashboard-stats\">\n          <div className=\"stat-card income\">\n            <div className=\"stat-icon\">üí∞</div>\n            <div className=\"stat-info\">\n              <h3>Total Income</h3>\n              <p>{formatCurrency(totalIncome)}</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card expenses\">\n            <div className=\"stat-icon\">üí∏</div>\n            <div className=\"stat-info\">\n              <h3>Total Expenses</h3>\n              <p>{formatCurrency(totalExpenses)}</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card balance\">\n            <div className=\"stat-icon\">‚öñÔ∏è</div>\n            <div className=\"stat-info\">\n              <h3>Balance</h3>\n              <p className={balance >= 0 ? \"positive\" : \"negative\"}>\n                {formatCurrency(balance)}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"recent-transactions\">\n          <h3>Recent Transactions</h3>\n          <div className=\"transactions-list\">\n            {[...expenses, ...income]\n              .sort((a, b) => new Date(b.date) - new Date(a.date))\n              .slice(0, 5)\n              .map((transaction) => (\n                <div\n                  key={transaction._id}\n                  className={`transaction-item ${\n                    transaction.amount > 0 ? \"income\" : \"expense\"\n                  }`}\n                >\n                  <div className=\"transaction-icon\">\n                    {transaction.amount > 0 ? \"üí∞\" : \"üí∏\"}\n                  </div>\n                  <div className=\"transaction-details\">\n                    <h4>\n                      {transaction.amount > 0\n                        ? transaction.source\n                        : transaction.category}\n                    </h4>\n                    <p>{new Date(transaction.date).toLocaleDateString()}</p>\n                  </div>\n                  <div className=\"transaction-amount\">\n                    {formatCurrency(transaction.amount)}\n                  </div>\n                </div>\n              ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Chat Interface */}\n      <div className={`chat-icon ${chatOpen ? 'active' : ''}`} onClick={toggleChat}>\n        <div className=\"chat-bubble\">\n          <span>üí¨</span>\n          {messages.length > 0 && !chatOpen && <span className=\"notification-badge\">{messages.length}</span>}\n        </div>\n      </div>\n\n      {chatOpen && (\n        <div className=\"chat-panel\">\n          <div className=\"chat-header\">\n            <h4>Finance Assistant</h4>\n            <button className=\"close-btn\" onClick={toggleChat}>\n              <span>√ó</span>\n            </button>\n          </div>\n          <div className=\"chat-body\">\n            {messages.length === 0 ? (\n              <div className=\"welcome-message\">\n                <p>Hello {userName}! How can I help with your finances today?</p>\n                <div className=\"quick-questions\">\n                  <button onClick={() => setNewMessage(\"What's my spending trend?\")}>\n                    What's my spending trend?\n                  </button>\n                  <button onClick={() => setNewMessage(\"How can I save more?\")}>\n                    How can I save more?\n                  </button>\n                </div>\n              </div>\n            ) : (\n              messages.map((message, index) => (\n                <div\n                  key={index}\n                  className={`chat-message ${message.sender} ${message.isError ? 'error' : ''}`}\n                >\n                  <div className=\"message-content\">\n                    {message.text}\n                    {message.sender === 'ai' && index === messages.length - 1 && aiLoading && (\n                      <span className=\"typing-indicator\">...</span>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n          <div className=\"chat-footer\">\n            <input\n              type=\"text\"\n              placeholder=\"Ask about your finances...\"\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              onKeyDown={handleKeyDown}\n              disabled={aiLoading}\n            />\n            <button \n              className=\"send-btn\"\n              onClick={handleMessageSend}\n              disabled={!newMessage.trim() || aiLoading}\n            >\n              {aiLoading ? 'Sending...' : 'Send'}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}